/* style.css - Tema "Parking Industrial" (Versión Final Completa) */

/* --- RESEO BÁSICO Y TEMA OSCURO GLOBAL --- */
:root {
    /* Paleta de colores Industrial/Parking */
    --background-color: #212529; /* Asfalto oscuro (casi negro) */
    --surface-color: #343A40;  /* Hormigón/Superficie oscura (gris carbón) */
    --card-background: #2C3034; /* Tarjetas ligeramente diferentes (gris más oscuro) */
    --primary-text-color: #f8f9fa; /* Texto blanco roto */
    --secondary-text-color: #adb5bd; /* Texto secundario gris claro */
    --border-color: #495057;   /* Bordes sutiles (gris medio) */
    --input-background: #495057; /* Fondo de inputs (gris medio) */
    --input-border: #6c757d;   /* Borde de inputs (gris azulado) */

    /* Color primario de acción (en lugar del azul) */
    --primary-yellow: #FFC107; /* Amarillo de seguridad / Advertencia */
    --primary-yellow-hover: #dda800; /* Amarillo oscuro al pasar el ratón */
    
    /* Colores de Decisión (más vibrantes para el tema oscuro) */
    --decision-green: #28a745; /* Verde estándar */
    --decision-red: #dc3545;   /* Rojo estándar */
    --decision-green-bg: rgba(40, 167, 69, 0.15); /* Fondo verde sutil */
    --decision-red-bg: rgba(220, 53, 69, 0.15);   /* Fondo rojo sutil */
    --decision-green-glow: 0 0 8px rgba(40, 167, 69, 0.6); /* Sombra luminosa verde */
    --decision-red-glow: 0 0 8px rgba(220, 53, 69, 0.6);   /* Sombra luminosa roja */

    /* Colores para botones y mensajes */
    --btn-secondary-bg: #6c757d; /* Gris para botones secundarios */
    --btn-secondary-hover-bg: #5a6268; /* Gris oscuro para hover */
    --btn-danger-bg: var(--decision-red); /* Rojo para botones de peligro */
    --btn-danger-hover-bg: #c82333; /* Rojo más oscuro para hover */
    --message-success-bg: #198754; /* Fondo de mensaje de éxito */
    --message-error-bg: var(--decision-red); /* Fondo de mensaje de error */
    --message-text-color: #ffffff; /* Texto de mensaje (blanco) */

    /* Colores para el menú de navegación */
    --nav-bg: var(--surface-color); /* Fondo de navegación */
    --nav-link-color: var(--secondary-text-color); /* Color de enlaces de navegación */
    --nav-link-hover-color: var(--primary-yellow); /* Color de enlaces al pasar el ratón */
    --nav-border: var(--border-color); /* Borde de navegación */
}

body {
    font-family: 'Roboto', sans-serif;
    background-color: var(--background-color);
    color: var(--primary-text-color);
    margin: 0;
    padding: 0;
    line-height: 1.6;
    font-size: 16px;
}

/* Estilos de encabezados para el tema industrial */
h1, h2, h3, h4, h5, h6 {
    font-family: 'Roboto Condensed', sans-serif;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--primary-text-color);
}

/* --- Encabezado Principal de la Aplicación (Compartido con el Header del Menú) --- */
/* Se aplica tanto a la barra superior de live_console.html como a la de index.php */
.main-header, header {
    background-color: var(--nav-bg);
    padding: 0rem 2rem;
    border-bottom: 3px solid var(--primary-yellow); /* Borde amarillo de seguridad */
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2); /* Sombra sutil */
}

.main-header h1, header h1 {
    /* El logo o título principal */
    font-family: 'Roboto Condensed', sans-serif;
    text-transform: uppercase;
    margin: 0;
    font-size: 1.8rem;
    color: var(--primary-text-color); /* Color de texto primario */
}

.header-controls {
    display: flex;
    align-items: center;
    gap: 1rem;
}

/* Estilos para los inputs, selects y date pickers en los controles del header */
#search-input, .header-controls select, .header-controls input[type="date"] {
    padding: 0.75rem 1rem;
    border: 1px solid var(--input-border);
    border-radius: 4px;
    background-color: var(--input-background);
    color: var(--primary-text-color);
    font-size: 1rem;
    transition: all 0.2s ease;
}
#search-input { width: 250px; } /* Ancho por defecto para el buscador */

#search-input::placeholder { color: var(--secondary-text-color); }

#search-input:focus, .header-controls select:focus, .header-controls input[type="date"]:focus {
    outline: none;
    border-color: var(--primary-yellow);
    box-shadow: 0 0 0 3px rgba(255, 193, 7, 0.4); /* Resplandor amarillo */
}

#clock {
    font-family: 'Roboto Mono', monospace; /* Fuente monoespaciada para el reloj */
    font-size: 1.2rem;
    font-weight: 500;
    color: var(--secondary-text-color);
}

/* --- Botones de Filtro de Cámara (para live_console.html) --- */
.camera-filters {
    display: flex;
    gap: 0.5rem;
}

.filter-btn {
    padding: 0.5rem 1rem;
    border: 1px solid var(--input-border);
    border-radius: 4px;
    background-color: var(--input-background);
    color: var(--primary-text-color);
    cursor: pointer;
    text-transform: uppercase;
    font-family: 'Roboto Condensed', sans-serif;
    transition: all 0.2s;
}

.filter-btn:hover {
    background-color: var(--btn-secondary-hover-bg);
}

.filter-btn.active {
    background-color: var(--primary-yellow);
    color: #212529; /* Texto oscuro para contraste */
    border-color: var(--primary-yellow);
}

/* --- Contenedor Principal de la Consola (3 Columnas) --- */
.console-container {
    display: flex;
    flex-direction: column;
    padding: 1.5rem;
    gap: 1.5rem;
    max-width: 100%;
    margin: 0 auto;
    box-sizing: border-box;
}

.console-container.full-height {
    /* Ocupa el 100% de la altura de la ventana menos la altura del header (aprox. 70px) */
    height: calc(100vh - 70px); 
    padding: 1rem; /* Un padding más pequeño para la vista de monitor */
}

.top-controls {
    /* Controles superiores dentro de la consola (donde estaba el buscador grande) */
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    background-color: var(--surface-color);
    padding: 1rem;
    border-radius: 6px;
    border: 1px solid var(--border-color);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.top-controls .header-controls {
    /* Ajustes específicos para los controles dentro de esta barra superior */
    flex-grow: 1;
    justify-content: center; /* Centrar el input de búsqueda */
}

.top-controls #search-input {
    width: 80%; /* Hacer el buscador más ancho */
    max-width: 500px; /* Limitar el ancho máximo */
}

.three-column-layout {
    /* El contenedor de las 3 columnas principales: Entrada, Última Captura, Salida */
    display: flex;
    gap: 1.5rem;
    flex-grow: 1; /* Para que ocupe el espacio restante */
}


/* REEMPLAZA ESTA REGLA EN style.css */
.event-column, .center-column {
    flex: 1;
    background-color: var(--surface-color);
    border-radius: 6px;
    padding: 1.5rem;
    border: 1px solid var(--border-color);
    min-width: 0;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    display: flex; /* ¡CLAVE! Hacemos que la columna sea un contenedor flex */
    flex-direction: column; /* Sus hijos (título, carrusel) se apilan verticalmente */
}

.center-column {
    flex: 1.5; /* Columna central (Última Captura) más ancha */
    align-items: center; /* Centrar contenido como el carrusel */
}

.event-column h2, .center-column h2 {
    /* Títulos de las columnas (CÁMARA ENTRADA, ÚLTIMA CAPTURA, CÁMARA SALIDA) */
    font-family: 'Roboto Condensed', sans-serif;
    text-align: center;
    text-transform: uppercase;
    margin-top: 0;
    margin-bottom: 1.5rem;
    font-size: 1.2rem; /* Títulos más pequeños */
    color: var(--primary-text-color);
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 0.8rem;
    letter-spacing: 1px;
    width: 100%; /* Asegura que el borde inferior ocupe todo el ancho */
}

/* --- Grid de Eventos (Contenedores de Imagen - Originalmente en live_console.html) --- */
/* Aunque tu layout no usa un grid de imágenes para eventos de entrada/salida,
   mantengo estas reglas por si el "Events en Vivo" o un futuro uso las necesite. */
.events-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); /* Capturas mucho más pequeñas */
    gap: 0.8rem; /* Espacio reducido */
    flex-grow: 1;
}

/* --- Mensaje de No Eventos --- */
.no-events-message {
    text-align: center;
    color: var(--secondary-text-color);
    font-style: italic;
    padding: 1.5rem;
    border: 2px dashed var(--border-color); /* Borde discontinuo para look "vial" */
    border-radius: 6px;
    margin-top: 1rem;
    background-color: var(--input-background);
}

/* --- Contenedor de Imagen de Evento (Reemplazo de Card, para uso general) --- */
.event-image-container {
    position: relative;
    width: 100%;
    padding-top: 65%; /* Aspect Ratio más cuadrado para mejor visualización de texto */
    overflow: hidden;
    border-radius: 6px;
    background-color: var(--card-background); /* Fondo de la tarjeta */
    border: 1px solid var(--border-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.event-image-container:hover {
    transform: translateY(-4px);
    border-color: var(--primary-yellow); /* Resaltar al pasar el ratón */
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.event-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 6px;
}

/* Colores de fondo/borde para la decisión */
.decision-green-bg-color {
    border-left: 5px solid var(--decision-green); /* Borde lateral para indicar decisión */
    box-shadow: var(--decision-green-glow); /* Efecto de resplandor */
}

.decision-red-bg-color {
    border-left: 5px solid var(--decision-red);
    box-shadow: var(--decision-red-glow);
}

/* --- Capa de Superposición de Información sobre Imágenes --- */
.image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 70%); /* Degradado oscuro en la parte inferior */
    display: flex;
    flex-direction: column;
    justify-content: flex-end; /* Alinear contenido al final */
    padding: 0.6rem;
    box-sizing: border-box;
    color: #fff;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.7); /* Sombra de texto para legibilidad */
}

.overlay-plate-number {
    font-family: 'Roboto Mono', monospace; /* Fuente monoespaciada para la patente */
    font-size: 1.2rem;
    font-weight: bold;
    text-align: center;
    margin-bottom: 0.3rem;
    background: rgba(0,0,0,0.5); /* Fondo semitransparente para la patente */
    padding: 4px 8px;
    border-radius: 4px;
}

.overlay-info-horizontal {
    display: flex;
    justify-content: space-between; /* Espacio entre los elementos */
    width: 100%;
    font-size: 0.7rem;
}

.overlay-decision {
    font-weight: bold;
    text-transform: uppercase;
}

.decision-green-text { color: #32CD32; } /* Verde brillante para acceso permitido */
.decision-red-text { color: #FF4136; }   /* Rojo brillante para acceso denegado */

.overlay-owner-lot,
.overlay-lot-info {
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.overlay-datetime {
    position: absolute; /* Posicionar absolutamente dentro del overlay */
    top: 5px;
    right: 5px;
    font-size: 0.7rem;
    font-family: 'Roboto Mono', monospace;
    color: #fff;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    z-index: 10;
    background: rgba(0,0,0,0.5); /* Fondo para la hora */
    padding: 2px 5px;
    border-radius: 3px;
}

/* --- Estilo de Matrícula (CSS generada, no imagen) --- */
.styled-plate {
    display: inline-block;
    background-color: #f0f0f0; /* Fondo claro de matrícula */
    color: #333; /* Texto oscuro */
    border: 1px solid #666; /* Borde más sutil */
    border-radius: 4px;
    padding: 0.1em 0.3em;
    font-family: 'Roboto Mono', monospace; /* Fuente que simule matrícula */
    letter-spacing: 0.05em;
    text-transform: uppercase;
    box-shadow: inset 0 0 3px rgba(0,0,0,0.1);
    font-size: 0.9rem;
    line-height: 1.2;
}

/* --- Etiqueta de Cámara --- */
.camera-tag {
    position: absolute;
    top: 10px;
    left: 10px;
    background-color: rgba(0,0,0,0.7); /* Fondo oscuro semitransparente */
    color: #fff;
    padding: 0.3rem 0.6rem;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: bold;
    text-transform: uppercase;
    z-index: 10;
}

/* --- Estilos Generales para Páginas de Gestión (Forms, Tables, Buttons) --- */
.container {
    padding: 1.5rem;
    max-width: 100%; /* Ancho completo */
    margin: 1.5rem auto; /* Centrar con margen */
    background-color: var(--surface-color);
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    border-top: 5px solid var(--primary-yellow); /* Borde superior amarillo */
}

.form-section, .data-section {
    margin-bottom: 2rem;
    padding: 1.5rem;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--card-background);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.form-section h2, .data-section h2 {
    font-family: 'Roboto Condensed', sans-serif;
    color: var(--primary-text-color);
    font-size: 1.5rem;
    margin-top: 0;
    margin-bottom: 1.5rem;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.5rem;
    text-transform: uppercase;
}

.form-group {
    margin-bottom: 1rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    color: var(--secondary-text-color);
    font-weight: bold;
    text-transform: uppercase;
    font-size: 0.8rem;
}

.form-group input[type="text"],
.form-group input[type="password"],
.form-group input[type="email"],
.form-group input[type="tel"],
.form-group textarea {
    width: calc(100% - 22px); /* Ancho completo con padding */
    padding: 0.75rem 1rem;
    border: 1px solid var(--input-border);
    border-radius: 4px;
    background-color: var(--input-background);
    color: var(--primary-text-color);
    font-size: 1rem;
}

.form-group input[type="text"]:focus,
.form-group input[type="password"]:focus,
.form-group input[type="email"]:focus,
.form-group input[type="tel"]:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--primary-yellow);
    box-shadow: 0 0 0 3px rgba(255, 193, 7, 0.4);
}

/* --- Botones --- */
.btn {
    padding: 0.75rem 1.5rem;
    border: 2px solid transparent; /* Borde transparente por defecto */
    border-radius: 4px;
    cursor: pointer;
    font-family: 'Roboto Condensed', sans-serif; /* Fuente condensada para botones */
    font-size: 1rem;
    font-weight: bold;
    text-transform: uppercase;
    transition: all 0.2s ease, transform 0.2s ease;
    color: #fff; /* Color de texto por defecto */
    letter-spacing: 0.5px;
}

.btn-primary {
    background-color: var(--primary-yellow);
    color: #212529; /* Texto oscuro para contraste en amarillo */
    border-color: var(--primary-yellow);
}

.btn-primary:hover {
    background-color: var(--primary-yellow-hover);
    border-color: var(--primary-yellow-hover);
    transform: translateY(-2px); /* Pequeño levantamiento al pasar el ratón */
}

.btn-secondary {
    background-color: transparent;
    border-color: var(--btn-secondary-bg);
    color: var(--primary-text-color);
}

.btn-secondary:hover {
    background-color: var(--btn-secondary-bg);
}

.btn-danger {
    background-color: var(--btn-danger-bg);
    color: #fff;
}

.btn-danger:hover {
    background-color: var(--btn-danger-hover-bg);
}

/* --- Mensajes de Feedback --- */
.message {
    padding: 1rem;
    border-radius: 6px;
    margin-bottom: 1.5rem;
    font-weight: bold;
    color: var(--message-text-color);
}

.message.success {
    background-color: var(--message-success-bg);
}

.message.error {
    background-color: var(--message-error-bg);
}

.message.success ul, .message.error ul {
    list-style: none;
    padding: 0;
    margin: 0;
}
.message.success ul li, .message.error ul li {
    margin-bottom: 0.5rem;
}

/* --- Tablas --- */
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 1.5rem;
}

table th,
table td {
    padding: 0.8rem;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}

table th {
    background-color: #212529; /* Fondo oscuro para encabezados de tabla */
    font-family: 'Roboto Condensed', sans-serif;
    color: var(--primary-yellow); /* Texto amarillo para encabezados */
    font-weight: bold;
    text-transform: uppercase;
    font-size: 0.9rem;
}

table tbody tr:hover {
    background-color: var(--card-background); /* Fondo ligeramente más claro al pasar el ratón */
}



/*
================================================================
ESTE ES EL NUEVO BLOQUE QUE DEBES PEGAR EN style.css
Contiene los estilos para la navegación moderna y responsiva.
================================================================
*/

/* --- Estructura del Header Principal --- */
header {
    background-color: var(--nav-bg);
    padding: 0 2rem; /* Padding horizontal para escritorio */
    border-bottom: 3px solid var(--primary-yellow);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    position: sticky;
    top: 0;
    width: 100%;
    z-index: 990; /* Asegura que esté por encima del contenido */
}

.header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 65px; /* Altura fija para el header */
    gap: 1.5rem;
}

.logo-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    text-decoration: none;
    flex-shrink: 0;
}

.logo-text {
    font-family: 'Roboto Condensed', sans-serif;
    font-size: 1.5rem;
    color: var(--primary-text-color);
    font-weight: 700;
}

/* --- Navegación Principal (Escritorio) --- */
.main-nav {
    flex-grow: 1; /* Ocupa el espacio central */
}

.nav-list {
    display: flex;
    justify-content: center;
    align-items: center;
    list-style: none;
    margin: 0;
    padding: 0;
    gap: 0.5rem;
}

.nav-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.8rem 1rem;
    color: var(--nav-link-color);
    text-decoration: none;
    border-radius: var(--border-radius, 6px);
    transition: background-color 0.2s ease, color 0.2s ease;
    font-weight: 500;
}

.nav-link:hover,
.dropdown:hover > .nav-link {
    background-color: rgba(255, 255, 255, 0.1);
    color: var(--nav-link-hover-color);
}

.nav-link.active {
    background-color: var(--primary-yellow);
    color: #212529;
    font-weight: bold;
}

/* --- Controles del Header (Reloj y Hamburguesa) --- */
.header-controls {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    flex-shrink: 0;
}

.hamburger-menu {
    display: none; /* Oculto en escritorio */
    background: none;
    border: none;
    color: var(--primary-text-color);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0.5rem;
    z-index: 1001; /* Por encima del overlay */
}

/* --- Overlay para el menú móvil --- */
.nav-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    z-index: 998;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.nav-overlay.is-visible {
    display: block;
    opacity: 1;
}

body.no-scroll {
    overflow: hidden;
}

/* --- Dropdown de Escritorio --- */
/* (La regla para el dropdown general ya está en tu CSS, esta es para la versión de nav) */
.main-nav .dropdown > a .fa-caret-down {
    margin-left: 5px;
    transition: transform 0.2s ease;
}

/* --- Media Query para Responsive (Tablets y Móviles) --- */
@media (max-width: 1024px) {
    header { padding: 0 1rem; }

    .logo-text, .header-clock-display {
        display: none;
    }

    .hamburger-menu {
        display: block;
    }

    .main-nav {
        position: fixed;
        top: 0;
        left: -300px;
        width: 300px;
        max-width: 80%;
        height: 100vh;
        background-color: var(--surface-color); /* Usando tu variable de color */
        padding-top: 5rem;
        z-index: 999;
        transition: left 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        overflow-y: auto;
        box-shadow: 5px 0 20px rgba(0,0,0,0.3);
    }

    .main-nav.is-open {
        left: 0;
    }

    .main-nav .nav-list {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
        padding: 1rem;
    }

    .main-nav .nav-list li {
        width: 100%;
    }

    .main-nav .nav-list a {
        width: 100%;
        padding: 1rem;
        justify-content: flex-start;
    }

    .main-nav .dropdown .dropdown-content {
        position: static;
        display: none;
        background-color: rgba(0, 0, 0, 0.25);
        box-shadow: none;
        width: 100%;
        border-radius: 0;
        border: none;
        border-left: 3px solid var(--primary-yellow);
        margin-top: 0.5rem;
        padding-left: 0;
    }

    .main-nav .dropdown.is-open > .dropdown-content {
        display: block;
    }
    
    .main-nav .dropdown.is-open > a {
        background-color: rgba(255, 255, 255, 0.05);
    }

    .main-nav .dropdown > a .fa-caret-down {
        margin-left: auto;
    }

    .main-nav .dropdown.is-open > a .fa-caret-down {
        transform: rotate(180deg);
    }
    
    /* Desactivar el hover del dropdown en móvil */
    .dropdown:hover .dropdown-content {
        display: none;
    }
}


/* Para el menú desplegable, necesita un ajuste especial */
.dropdown > a {
    flex-direction: row; /* Volvemos a poner el icono y texto en horizontal */
    justify-content: center;
    gap: 0.5rem; /* Mantenemos el gap */
}

footer {
    text-align: center;
    padding: 1rem;
    margin-top: 2rem;
    color: var(--secondary-text-color);
    border-top: 1px solid var(--border-color);
    background-color: var(--surface-color);
}

/* --- Dashboard Specific Styles --- */
.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
}

.dashboard-card {
    background-color: var(--card-background);
    border-radius: 6px;
    padding: 1.5rem;
    border: 1px solid var(--border-color); /* Borde sutil */
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.dashboard-card h3 {
    color: var(--primary-text-color);
    font-size: 1.4rem;
    margin-top: 0;
    margin-bottom: 1rem;
}

.dashboard-card .value {
    font-family: 'Roboto Mono', monospace; /* Fuente monoespaciada para valores numéricos */
    font-size: 3rem;
    font-weight: bold;
    color: var(--primary-yellow); /* Color principal para valores importantes */
    margin-bottom: 0.5rem;
}

.dashboard-card p {
    color: var(--secondary-text-color);
    font-size: 0.9rem;
}

.quick-links {
    margin-top: 2rem;
    text-align: center;
}

.quick-links h2 {
    margin-bottom: 1.5rem;
}

.quick-links .link-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1rem;
    justify-content: center;
}

.quick-links a {
    display: block;
    background-color: var(--btn-secondary-bg);
    color: #fff;
    padding: 1rem;
    border-radius: 6px;
    text-decoration: none;
    font-weight: bold;
    transition: background-color 0.2s ease, transform 0.2s ease;
}

.quick-links a:hover {
    background-color: var(--btn-secondary-hover-bg);
    transform: translateY(-2px);
}

/* --- Occupancy Display (live_console.html) --- */
.occupancy-display {
    background-color: var(--card-background);
    border-radius: 6px;
    padding: 1rem;
    margin-bottom: 1.5rem;
    border: 1px solid var(--border-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    text-align: center;
    width: 100%;
}

.occupancy-display h2 {
    font-family: 'Roboto Condensed', sans-serif;
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
    color: var(--primary-text-color);
    border-bottom: none; /* Eliminar borde inferior para este h2 */
    padding-bottom: 0;
}

.occupancy-display p {
    font-family: 'Roboto Mono', monospace;
    font-size: 2.5rem;
    font-weight: bold;
    color: var(--primary-yellow);
    margin: 0;
}

/* --- Latest Capture Card Styles --- */
#latest-capture-display {
    width: 100%;
    background-color: var(--surface-color);
    border-radius: 6px;
    padding: 1.5rem;
    border: 1px solid var(--border-color);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    margin-top: 1.5rem; /* Espacio entre ocupación y última captura */
}

.latest-capture-card {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    border-radius: 6px;
    overflow: hidden;
    background-color: var(--card-background); /* Fondo de la tarjeta */
    border: 1px solid var(--border-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.latest-capture-image {
    width: 100%;
    height: auto;
    object-fit: cover;
    border-bottom: 1px solid var(--border-color);
}

.latest-capture-info {
    padding: 1rem;
    width: 100%;
    box-sizing: border-box;
}

.latest-plate {
    font-family: 'Roboto Mono', monospace;
    font-size: 2.5rem;
    color: var(--primary-yellow);
    margin-bottom: 0.5rem;
    background-color: rgba(0,0,0,0.6); /* Fondo semitransparente para la patente */
    padding: 0.3rem 0.8rem;
    border-radius: 5px;
}

.latest-decision {
    font-weight: bold;
    text-transform: uppercase;
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
}
/* Colores específicos para la decisión en la última captura */
.latest-decision.decision-green-text { color: var(--decision-green); }
.latest-decision.decision-red-text { color: var(--decision-red); }

.latest-owner-lot,
.latest-datetime,
.latest-camera {
    font-size: 0.9rem;
    color: var(--secondary-text-color);
    margin-bottom: 0.2rem;
}

/* --- Carousel Styles --- */
.carousel-container {
    position: relative;
    width: 100%;
    overflow: hidden;
    border-radius: 6px;
    background-color: var(--card-background);
    border: 1px solid var(--border-color);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    margin-top: 0.5rem;
    height: 55vh; 
    display: flex;
    align-items: center;
    justify-content: center;
}

.carousel-inner {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    transition: transform 0.5s ease-in-out;
}

.carousel-item {
    min-width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.carousel-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    top: 0;
    left: 0;
}

/* --- Carousel Info Overlay (similar al image-overlay pero para el carrusel) --- */
.carousel-info-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0) 70%); /* Más oscuro y cubriendo más */
    display: flex;
    flex-direction: column;
    justify-content: flex-end; /* Empuja todo el contenido hacia abajo */
    padding: 1.5rem; /* Más padding para el carrusel */
    box-sizing: border-box;
    color: #fff;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
    z-index: 2;
}

.carousel-plate {
    font-family: 'Roboto Mono', monospace;
    font-size: 2.5rem; /* Tamaño de patente más grande para el carrusel */
    font-weight: bold;
    text-align: center;
    margin-bottom: 0.5rem;
    color: var(--primary-yellow); /* Color de patente amarillo */
    background-color: rgba(0,0,0,0.6); /* Fondo para la patente */
    padding: 0.5rem 1rem;
    border-radius: 6px;
    border: 1px solid var(--border-color);
    text-shadow: 0 0 8px var(--primary-yellow); /* Resplandor para la patente */
}

.carousel-info-horizontal {
    display: flex; /* Cambiado a flex para control más directo */
    justify-content: space-between; /* Espacio entre los elementos */
    align-items: center;
    width: 100%;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.carousel-decision {
    font-weight: bold;
    text-transform: uppercase;
    text-align: left;
    font-size: 1rem;
    flex: 1; /* Ocupa espacio */
}
/* Colores de decisión para el carrusel */
.carousel-decision.decision-green-text { color: var(--decision-green); }
.carousel-decision.decision-red-text { color: var(--decision-red); }

.carousel-owner-lot,
.carousel-camera {
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex: 1; /* Ocupa espacio */
}

.carousel-datetime {
    position: absolute; /* Posicionar absolutamente dentro del overlay */
    top: 10px;
    right: 10px;
    font-size: 0.9rem;
    font-family: 'Roboto Mono', monospace;
    color: #fff;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    z-index: 10;
    background: rgba(0,0,0,0.5);
    padding: 4px 8px;
    border-radius: 4px;
}

.carousel-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0,0,0,0.6); /* Botones semitransparentes */
    color: #fff;
    border: none;
    padding: 1rem;
    cursor: pointer;
    z-index: 3;
    font-size: 1.5rem;
    border-radius: 50%; /* Botones circulares */
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
}

.carousel-btn:hover {
    background-color: rgba(0,0,0,0.9); /* Más oscuro al pasar el ratón */
}

.carousel-btn.prev { left: 10px; }
.carousel-btn.next { right: 10px; }
.carousel-btn:disabled { opacity: 0.4; cursor: not-allowed; }


/* --- Dropdown Menu Styles --- */
.dropdown { position: relative; display: inline-block; }
.dropdown-content {
    display: none;
    position: absolute;
    /* Asegúrate de que el fondo sea sólido, usando tus variables CSS */
    background-color: var(--surface-color); /* ¡Esto es clave! */
    min-width: 200px; /* Un poco más ancho */
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.4);
    z-index: 1001; /* Un z-index más alto que el header (999) y el contenido */
    border-radius: 0 0 6px 6px; /* Bordes redondeados solo abajo */
    border: 1px solid var(--border-color);
    border-top: none; /* Sin borde superior para que se una al menú */
    overflow: hidden;
}
.dropdown-content a {
    color: var(--nav-link-color); padding: 12px 16px; text-decoration: none;
    display: block; text-align: left; transition: background-color 0.2s ease, color 0.2s ease;
}
.dropdown-content a:hover { background-color: var(--primary-yellow); color: #212529; }
.dropdown:hover .dropdown-content { display: block; }
/* Ajusta la posición del icono de la flecha en los dropdowns */
.dropdown > a .fa-caret-down { margin-left: 5px; }


/* --- Animation for new events --- */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
.event-image-container.new-event { animation: fadeIn 0.5s ease-out; }

/* --- Nuevas Clases CSS para whitelist_manager.php (Añadidos aquí directamente para facilidad) --- */

/* Título de la sección de la tabla */
.section-title {
    text-align: center;
    margin-top: 2rem;
    text-transform: uppercase;
    color: var(--primary-text-color);
    font-size: 1.5rem; /* Ajustado */
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border-color);
    margin-bottom: 1.5rem; /* Asegura espacio */
}

/* Input de búsqueda de la tabla */
.table-search-input {
    width: 100%;
    padding: 0.75rem 1rem; /* Usar el padding de form-control */
    margin-bottom: 1.5rem; /* Espacio debajo del buscador */
    border: 1px solid var(--input-border);
    border-radius: 4px;
    background-color: var(--input-background);
    color: var(--primary-text-color);
    font-size: 1rem;
}

/* Miniaturas de captura en la tabla */
.plate-capture-thumbnail {
    width: 100px;
    height: auto;
    border-radius: 4px;
    border: 1px solid var(--border-color);
    transition: transform 0.2s ease;
}
.plate-capture-thumbnail:hover {
    transform: scale(1.05);
}

/* Botones pequeños (btn-sm) */
.btn-sm {
    padding: 0.4rem 0.8rem;
    font-size: 0.8rem;
}

/* Botón FAB (Floating Action Button) */
.fab-button {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background-color: var(--primary-yellow);
    color: #212529; /* Texto oscuro */
    border: none;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    font-size: 2.5rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    transition: background-color 0.2s, transform 0.2s;
    z-index: 1000;
}
.fab-button:hover {
    background-color: var(--primary-yellow-hover);
    transform: scale(1.1);
}

/* Estilos para el modal overlay */
.modal {
    display: none; /* ¡CORRECTO! Esta es la única declaración de display. */
    position: fixed;
    z-index: 2000; /* Asegura que esté por encima de todo */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.7); /* Fondo oscuro semitransparente */
    /* Se elimina 'display: flex;' porque el JS lo gestionará. */
    align-items: center;
    justify-content: center;
}

.modal-content-wrapper {
    background-color: var(--surface-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.4);
    width: 90%;
    max-width: 600px; /* Ancho máximo para modales */
    animation: fadeInScale 0.3s ease-out; /* Animación de aparición */
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    border-bottom: 1px solid var(--border-color);
    background-color: var(--card-background);
}
.modal-header h2 {
    margin: 0;
    font-size: 1.5rem;
    color: var(--primary-text-color);
}
.modal-header .close-button {
    color: var(--secondary-text-color);
    font-size: 2rem;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.2s ease;
}
.modal-header .close-button:hover {
    color: var(--primary-yellow);
}

.modal-body {
    padding: 1.5rem;
}

.modal-footer {
    padding: 1rem 1.5rem;
    border-top: 1px solid var(--border-color);
    text-align: right;
    background-color: var(--card-background);
}
.modal-footer button {
    margin-left: 0.5rem;
}





/* Efecto para el contenido principal cuando el modal está abierto */
#main-content-wrapper.modal-open {
    filter: blur(3px) brightness(0.7); /* Desenfoque y oscurecimiento */
    pointer-events: none; /* Deshabilita interacciones con el fondo */
    transition: filter 0.3s ease;
}

/* Grupo de checkboxes para cámaras */
.camera-checkbox-group {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 0.5rem;
    background-color: var(--input-background);
    border: 1px solid var(--input-border);
    border-radius: 4px;
    padding: 1rem;
}
.checkbox-container {
    display: block;
    position: relative;
    padding-left: 25px;
    margin-bottom: 8px;
    cursor: pointer;
    font-size: 0.9rem;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    color: var(--primary-text-color);
}
.checkbox-container input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}
.checkmark {
    position: absolute;
    top: 0;
    left: 0;
    height: 18px;
    width: 18px;
    background-color: var(--surface-color);
    border: 1px solid var(--input-border);
    border-radius: 3px;
}
.checkbox-container:hover input ~ .checkmark {
    background-color: var(--btn-secondary-hover-bg);
}
.checkbox-container input:checked ~ .checkmark {
    background-color: var(--primary-yellow);
    border-color: var(--primary-yellow);
}
.checkmark:after {
    content: "";
    position: absolute;
    display: none;
}
.checkbox-container input:checked ~ .checkmark:after {
    display: block;
}
.checkbox-container .checkmark:after {
    left: 6px;
    top: 2px;
    width: 5px;
    height: 10px;
    border: solid #212529; /* Color oscuro para el check en amarillo */
    border-width: 0 3px 3px 0;
    -webkit-transform: rotate(45deg);
    -ms-transform: rotate(45deg);
    transform: rotate(45deg);
}

/* Overlay de carga */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 3000; /* Por encima de todo */
    color: white;
    font-size: 1.2rem;
}

.spinner {
    border: 8px solid rgba(255, 255, 255, 0.3);
    border-top: 8px solid var(--primary-yellow);
    border-radius: 50%;
    width: 60px;
    height: 60px;
    animation: spin 1s linear infinite;
    margin-bottom: 20px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes fadeInScale {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}

/* Icono de Font Awesome para las cabeceras de tabla */
table th .fas {
    margin-left: 8px; /* Espacio entre texto y icono */
    opacity: 0.5;
    transition: opacity 0.2s ease;
}

table th:hover .fas,
table th.asc .fas,
table th.desc .fas {
    opacity: 1;
}

table th.asc .fas {
    transform: rotate(180deg); /* Flecha hacia arriba para ascendente */
}
table th.desc .fas {
    transform: rotate(0deg); /* Flecha hacia abajo para descendente */
}

/* Clases de mensaje general para info (si las usas) */
.message.info {
    background-color: var(--btn-secondary-bg);
    color: var(--message-text-color);
}


/* --- DISEÑO RESPONSIVO (MANTENIDO ÍNTEGRAMENTE DE TU CÓDIGO ORIGINAL) --- */
@media (max-width: 992px) {
    /* La consola pasa a una sola columna */
    .console-container { flex-direction: column; }
    .three-column-layout { flex-direction: column; }

    /* Controles superiores */
    .top-controls { flex-direction: column; align-items: flex-start; gap: 1rem; }
    .top-controls .header-controls { width: 100%; justify-content: center; }
    .top-controls #search-input { width: 100%; max-width: none; }

    /* Header principal */
    .main-header { flex-direction: column; align-items: flex-start; }
    .header-controls { width: 100%; justify-content: space-between; }
    #search-input { width: calc(100% - 120px); }
    #clock { text-align: right; }

    /* Modales (si los tienes) */
    .modal-content-wrapper { width: 90%; max-width: 700px; }

    /* Contenedor general */
    .container { padding: 1rem; margin: 1rem auto; }

    /* Header de navegación (index.php) */
    header .container {
    display: flex; /* Habilita Flexbox */
    justify-content: space-between; /* ¡CLAVE! Empuja los elementos hijos a los extremos */
    align-items: center; /* Centra verticalmente los elementos */
    padding: 0.5rem 2rem; /* Ajusta el padding vertical si es necesario */
    max-width: 100%;
    margin: 0 auto;
    box-sizing: border-box;
    gap: 2rem; /* Añade un espacio entre los elementos principales (logo, nav, reloj) */
    
    /* Reseteos que ya tenías */
    border: none;
    background: none;
    box-shadow: none;
}

/* Modificamos la navegación para que ocupe el espacio central */
header nav {
    flex-grow: 1; /* Permite que la navegación crezca y ocupe el espacio disponible en el medio */
    display: flex;
    justify-content: center; /* Centra los items de la navegación */
}

/* Y nos aseguramos que el logo y el reloj no crezcan */
.logo-link, .header-clock-display {
    flex-shrink: 0; /* Evita que el logo y el reloj se encojan si no hay espacio */
}

    nav ul { flex-direction: column; gap: 0.5rem; width: 100%; }
    nav ul li { width: 100%; }
    nav ul li a { display: block; padding: 0.5rem 0; text-align: center; background-color: var(--surface-color); border-radius: 5px; }
}

@media (max-width: 768px) {
    /* Las columnas del dashboard y quick links se apilan */
    .dashboard-grid { grid-template-columns: 1fr; }
    .quick-links .link-grid { grid-template-columns: 1fr; }
}

@media (max-width: 576px) {
    .main-header, .console-container { padding: 1rem; }
    .main-header h1 { font-size: 1.5rem; }

    /* Controles del header principal (responsive) */
    .header-controls { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
    #search-input { width: 100%; }
    #clock { width: 100%; text-align: left; }

    /* Columnas de eventos */
    .event-column { padding: 1rem; }
    .event-column h2 { font-size: 1.4rem; }
    .events-grid { grid-template-columns: 1fr; } /* Si se usara un grid, se vuelve 1 columna */

    /* Overlays de imagen (más grandes en móvil) */
    .overlay-plate-number { font-size: 1.8rem; }
    .overlay-decision { font-size: 0.8rem; }

    /* Modales */
    .modal-content-wrapper { width: 95%; }

    /* Botones y tablas */
    .btn { width: 100%; margin-bottom: 0.5rem; }
    table th, table td { font-size: 0.8rem; padding: 0.6rem; }

    /* Header de navegación (más ajustes) */
    header .container { padding: 1rem; }
    nav ul { width: 100%; }
    nav ul li { width: 100%; }
    nav ul li a { display: block; padding: 0.5rem 0; text-align: center; background-color: var(--surface-color); border-radius: 5px; }
}

/* style.css */

/* --- Estilos para el Indicador de Estado (LED) --- */
.status-led {
    display: inline-block;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
    vertical-align: middle;
}

/* Estado Pendiente (gris) */
.status-led.pending {
    background-color: #6c757d; /* --btn-secondary-bg */
    animation: pulse 1.5s infinite;
}

/* Estado OK (verde) */
.status-led.ok {
    background-color: #28a745; /* --decision-green */
    box-shadow: 0 0 10px #28a745;
}

/* Estado Error (rojo) */
.status-led.error {
    background-color: #dc3545; /* --decision-red */
    box-shadow: 0 0 10px #dc3545;
}

@keyframes pulse {
    0% { opacity: 0.5; }
    50% { opacity: 1; }
    100% { opacity: 0.5; }
}

/* --- ESTILOS PARA NOTIFICACIONES TOAST --- */
#toast-container {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 9999; /* Por encima de todo */
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.toast {
    background-color: var(--surface-color);
    color: var(--primary-text-color);
    padding: 15px 20px;
    border-radius: 8px;
    border-left: 5px solid var(--primary-yellow);
    box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    opacity: 0;
    transform: translateX(100%);
    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
    min-width: 250px;
}

.toast.show {
    opacity: 1;
    transform: translateX(0);
}

.toast strong {
    font-family: 'Roboto Condensed', sans-serif;
    text-transform: uppercase;
    color: var(--primary-yellow);
}

.toast p {
    margin: 5px 0 0;
    font-size: 0.9rem;
}

.logo-link {
    display: flex;
    align-items: center;
    text-decoration: none;
}

.logo-image {
    height: 40px; /* Ajusta la altura de tu logo según sea necesario */
    width: auto;
    transition: transform 0.2s ease-in-out;
}

.logo-link:hover .logo-image {
    transform: scale(1.05); /* Pequeño efecto de zoom al pasar el ratón */
}

.header-clock-display {
    font-family: 'Roboto Mono', monospace;
    font-size: 1.2rem;
    color: var(--secondary-text-color);
    margin-right: 1rem; /* Espacio entre la navegación y el reloj */
}

/* --- INICIO: ESTILOS PARA EL HISTORIAL DE EVENTOS --- */

.filter-grid {
    display: grid;
    /* Crea columnas flexibles que se adaptan al espacio disponible */
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem; /* Espacio entre los campos del filtro */
    margin-bottom: 1.5rem;
}

.filter-actions {
    margin-top: 1rem;
    display: flex;
    gap: 1rem; /* Espacio entre los botones "Buscar" y "Limpiar" */
}

/* 
   Asegura que los elementos <select> y <input type="date"> 
   dentro del formulario de filtros hereden el estilo oscuro 
   que ya tienes definido para otros inputs.
*/
.form-section select.form-control,
.form-section input[type="date"] {
    width: 100%; /* Ocupa todo el ancho de su celda en el grid */
    box-sizing: border-box; /* Asegura que el padding no desborde el ancho */
    padding: 0.75rem 1rem;
    border: 1px solid var(--input-border);
    border-radius: 4px;
    background-color: var(--input-background);
    color: var(--primary-text-color);
    font-size: 1rem;
    font-family: 'Roboto', sans-serif; /* Hereda la fuente principal */
}

/* Estilo para el calendario del date picker en navegadores WebKit (Chrome, Edge) */
.form-section input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1); /* Invierte el color del icono del calendario para que sea visible en el fondo oscuro */
    cursor: pointer;
}


/* --- FIN: ESTILOS PARA EL HISTORIAL DE EVENTOS --- */


/* style.css */

/* --- ESTILOS PARA EL BOTÓN DE ACCIÓN FLOTANTE (FAB) --- */
.fab-container {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 1000;
    display: flex;
    flex-direction: column-reverse; /* Los botones secundarios aparecen hacia arriba */
    align-items: center;
}

.fab-main {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background-color: var(--primary-yellow);
    color: #212529;
    border: none;
    font-size: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    transition: transform 0.3s ease, background-color 0.3s ease;
    position: relative; /* Para el z-index */
    z-index: 1002;
}

.fab-main.active {
    transform: rotate(45deg); /* Gira el "+" a una "x" */
}

.fab-options {
    display: flex;
    flex-direction: column-reverse;
    align-items: center;
    list-style: none;
    padding: 0;
    margin: 0;
    margin-bottom: 15px;
    /* Por defecto, los botones están ocultos y escalados a 0 */
    transform: scale(0);
    transform-origin: bottom center;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.fab-container.active .fab-options {
    transform: scale(1); /* Muestra los botones al activar */
}

.fab-options li {
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: flex-end; /* Alinea texto a la derecha */
    width: 100%;
}

.fab-label {
    background-color: var(--surface-color);
    color: var(--primary-text-color);
    padding: 5px 10px;
    border-radius: 4px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    margin-right: 15px;
    white-space: nowrap;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.fab-container.active .fab-label {
    opacity: 1;
}

.fab-secondary {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    border: none;
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    cursor: pointer;
    transition: background-color 0.3s ease;
}

/* Colores para botones secundarios */
.fab-secondary.btn-add { background-color: var(--decision-green); }
.fab-secondary.btn-import { background-color: var(--btn-secondary-bg); }
.fab-secondary.btn-export { background-color: var(--btn-secondary-bg); }

.fab-secondary:hover {
    filter: brightness(1.2);
}

/* style.css */

/* --- ESTILOS PARA EL PANEL DE FILTROS DESLIZABLE (LIVE CONSOLE) --- */
.filter-panel {
    background-color: var(--surface-color);
    padding: 1rem;
    border-radius: 6px;
    border: 1px solid var(--border-color);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    margin-bottom: 1.5rem;

    /* Oculto y fuera de la pantalla por defecto */
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transform: translateY(-20px);
    transition: all 0.4s ease-in-out;
}

.filter-panel.active {
    max-height: 200px; /* Altura suficiente para los filtros */
    opacity: 1;
    transform: translateY(0);
    padding: 1rem; /* Restaura el padding cuando está activo */
}

/* El grid para los controles dentro del panel */
.filter-panel-controls {
    display: flex;
    justify-content: space-around;
    align-items: center;
    gap: 1rem;
    width: 100%;
}

/* =============================================== */
/* === ESTILOS PARA DROPDOWNS (SELECT) EN MODALES === */
/* =============================================== */

/* 1. Resetear la apariencia nativa del navegador */
.modal-body select.form-control {
    -webkit-appearance: none; /* Para navegadores WebKit (Chrome, Safari) */
    -moz-appearance: none;    /* Para Firefox */
    appearance: none;         /* Estándar */
    
    /* 2. Aplicar los mismos estilos que tus inputs */
    background-color: var(--input-bg-color, #2c2c2c); /* Usa tu variable de color de fondo */
    color: var(--primary-text-color, #e0e0e0);        /* Usa tu variable de color de texto */
    border: 1px solid var(--border-color, #444);      /* Usa tu variable de color de borde */
    border-radius: 4px;
    padding: 10px 30px 10px 12px; /* Aumentar padding derecho para dejar espacio a la flecha */
    font-size: 1rem;
    width: 100%;
    box-sizing: border-box;
    cursor: pointer; /* Indicar que se puede hacer clic */
}

/* 3. Estilizar la opción seleccionada y al pasar el ratón */
.modal-body select.form-control:focus {
    outline: none;
    border-color: var(--primary-color, #f0b90b); /* Resaltar borde con tu color primario */
    box-shadow: 0 0 5px rgba(240, 185, 11, 0.5); /* Sombra suave opcional */
}

/* 4. Crear una flecha personalizada */
.form-group {
    position: relative; /* El contenedor del select necesita ser relativo */
}

.form-group::after {
    content: '\f078'; /* Código del icono de flecha hacia abajo de Font Awesome */
    font-family: 'Font Awesome 6 Free';
    font-weight: 900; /* Asegurarse de usar la versión sólida del icono */
    position: absolute;
    top: 50%;
    right: 15px;
    transform: translateY(-50%);
    color: var(--secondary-text-color, #888);
    pointer-events: none; /* Para que el clic pase al select y no a la flecha */
    font-size: 0.8rem;
}

/* Opcional: Estilos para las opciones dentro del dropdown */
.modal-body select.form-control option {
    background-color: var(--modal-bg-color, #1e1e1e);
    color: var(--primary-text-color, #e0e0e0);
}

/* ============================================== */
/* === ESTILOS PARA CAMPOS DE FECHA (DATE INPUT) === */
/* ============================================== */

/* 1. Estilos base para el campo de fecha */
.modal-body input[type="date"].form-control {
    /* Aplicar los mismos estilos que tus inputs de texto */
    background-color: var(--input-bg-color, #2c2c2c);
    color: var(--primary-text-color, #e0e0e0);
    border: 1px solid var(--border-color, #444);
    border-radius: 4px;
    padding: 10px 12px;
    font-size: 1rem;
    font-family: 'Roboto', sans-serif; /* Asegurar la misma fuente que el resto */
    width: 100%;
    box-sizing: border-box;
    cursor: pointer;

    /* Propiedad clave para navegadores modernos en temas oscuros.
       Sugiere al navegador que el calendario emergente también debe ser oscuro. */
    color-scheme: dark;
}

/* 2. Ocultar el ícono de calendario nativo en navegadores WebKit (Chrome, Safari, Edge) */
.modal-body input[type="date"].form-control::-webkit-calendar-picker-indicator {
    display: none;
    -webkit-appearance: none;
}

/* 3. Estilos de foco, igual que los otros campos */
.modal-body input[type="date"].form-control:focus {
    outline: none;
    border-color: var(--primary-color, #f0b90b);
    box-shadow: 0 0 5px rgba(240, 185, 11, 0.5);
}

/* 4. Crear nuestro propio ícono de calendario con Font Awesome */
.date-input-wrapper {
    position: relative; /* El contenedor debe ser relativo */
}

.date-input-wrapper::after {
    content: '\f133'; /* Código del icono de calendario de Font Awesome */
    font-family: 'Font Awesome 6 Free';
    font-weight: 900; /* Versión sólida del icono */
    position: absolute;
    top: 50%;
    right: 15px;
    transform: translateY(-50%);
    color: var(--secondary-text-color, #888);
    pointer-events: none; /* El clic debe pasar al input */
    font-size: 0.9rem;
}

/* ============================================= */
/* === ESTILOS MEJORADOS PARA EL BOTÓN FLOTANTE (FAB) === */
/* ============================================= */

.fab-container {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 999;
    display: flex;
    flex-direction: column-reverse; /* Cambiamos a column-reverse para alinear desde abajo */
    align-items: center;
}

.fab-main {
    width: 60px;
    height: 60px;
    background-color: var(--primary-color, #f0b90b); /* Tu color amarillo principal */
    color: var(--button-text-color, #121212); /* Texto oscuro para contraste */
    border-radius: 50%;
    border: none;
    cursor: pointer;
    font-size: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s ease, background-color 0.3s ease;
    z-index: 2; /* Para que esté por encima de las opciones */
}

.fab-main:hover {
    background-color: var(--primary-color-hover, #ffcb2b); /* Un amarillo un poco más claro */
}

/* Rotación del ícono '+' cuando el FAB está activo */
.fab-container.active .fab-main {
    transform: rotate(45deg);
}

.fab-options {
    list-style: none;
    padding: 0;
    margin: 0 0 15px 0; /* Espacio entre las opciones y el botón principal */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px; /* Espacio entre los botones secundarios */
    
    /* Ocultar opciones por defecto */
    visibility: hidden;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.3s ease-in-out;
}

/* Mostrar opciones cuando el FAB está activo */
.fab-container.active .fab-options {
    visibility: visible;
    opacity: 1;
    transform: translateY(0);
}

/* Estructura para cada opción (label + botón) */
.fab-options li {
    display: flex;
    align-items: center;
    justify-content: flex-end; /* Alinear a la derecha */
    width: 100%;
}

.fab-label {
    background-color: rgba(44, 44, 44, 0.95); /* Fondo semitransparente */
    color: var(--primary-text-color, #e0e0e0);
    padding: 6px 12px;
    border-radius: 4px;
    margin-right: 15px; /* Espacio entre el texto y el botón */
    font-size: 14px;
    white-space: nowrap; /* Evitar que el texto se rompa en dos líneas */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    
    /* Efecto de aparición */
    opacity: 0;
    transform: translateX(10px);
    transition: opacity 0.2s ease, transform 0.2s ease;
}

/* Efecto de aparición para los labels cuando el FAB está activo */
.fab-container.active .fab-label {
    opacity: 1;
    transform: translateX(0);
    /* Retraso para que aparezcan después de que los botones suban */
    transition-delay: 0.2s; 
}

.fab-secondary {
    width: 48px;
    height: 48px;
    background-color: #e0e0e0; /* Color de fondo claro como en la imagen */
    color: #2c2c2c; /* Texto/icono oscuro */
    border-radius: 50%;
    border: none;
    cursor: pointer;
    font-size: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.25);
    transition: background-color 0.2s ease;
}

.fab-secondary:hover {
    background-color: #f5f5f5; /* Un poco más claro al pasar el ratón */
}

/* ============================================= */
/* ===        ESTILOS PARA PAGINACIÓN        === */
/* ============================================= */

.pagination-container {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 2rem 0;
    gap: 8px;
    user-select: none; /* Evitar selección de texto */
}

.pagination-container .page-link {
    display: inline-block;
    padding: 10px 15px;
    background-color: var(--secondary-bg-color, #2c2c2c);
    color: var(--primary-text-color, #e0e0e0);
    border: 1px solid var(--border-color, #444);
    border-radius: 4px;
    text-decoration: none;
    transition: background-color 0.2s ease, border-color 0.2s ease;
}

.pagination-container .page-link:hover {
    background-color: #383838;
    border-color: #555;
}

.pagination-container .page-link.current {
    background-color: var(--primary-color, #f0b90b);
    color: var(--button-text-color, #121212);
    border-color: var(--primary-color, #f0b90b);
    font-weight: bold;
    cursor: default;
}

.pagination-container .page-link.disabled {
    color: #666;
    background-color: #252525;
    cursor: not-allowed;
    border-color: #333;
}

.pagination-container .dots {
    padding: 10px 5px;
    color: #888;
}

/* =================================
   DASHBOARD ENHANCEMENT STYLES
   ================================= */

/* Hacer las tarjetas clics */
a.stat-card-link {
    text-decoration: none;
    color: inherit;
    display: block;
}

/* Gráfico de Ocupación (Dona) */
.occupancy-widget {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
}

.occupancy-chart-container {
    position: relative;
    width: 150px;
    height: 150px;
}

.occupancy-percentage {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2rem;
    font-weight: 700;
    color: var(--heading-color);
}

.occupancy-details {
    text-align: center;
    margin-top: 1rem;
    font-size: 1rem;
    color: var(--secondary-text-color);
}

/* Panel de Acciones Rápidas */
.quick-actions-panel ul {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.quick-actions-panel a.btn {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    justify-content: flex-start;
    text-align: left;
    padding: 0.75rem 1rem;
    background-color: var(--surface-color-light);
    border: 1px solid var(--border-color);
}
.quick-actions-panel a.btn:hover {
    background-color: var(--primary-color-light);
    border-color: var(--primary-color);
    color: white;
}
.quick-actions-panel a.btn i {
    width: 20px;
}

/* Nuevo Layout Dashboard */
.dashboard-main-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 1.5rem;
}

.grid-span-12 { grid-column: span 12; }
.grid-span-8 { grid-column: span 8; }
.grid-span-4 { grid-column: span 4; }
.grid-span-3 { grid-column: span 3; }
.grid-span-6 { grid-column: span 6; }

@media (max-width: 1200px) {
    .grid-span-8 { grid-column: span 12; }
    .grid-span-4 { grid-column: span 12; }
}

@media (max-width: 768px) {
    .grid-span-3 { grid-column: span 6; }
    .grid-span-6 { grid-column: span 12; }
}

/* =================================
   DASHBOARD KPI STYLES
   ================================= */
.kpi-card {
    background-color: var(--surface-color-light);
    padding: 1rem;
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    gap: 1rem;
}

.kpi-card .icon {
    font-size: 1.5rem;
    color: var(--secondary-text-color);
    flex-shrink: 0;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: transparent;
    border-radius: 50%;
}

.kpi-card .info .value {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--heading-color);
    line-height: 1.1;
}

.kpi-card .info .label {
    font-size: 0.8rem;
    color: var(--secondary-text-color);
}

/* --- Estilos para el Módulo de Sincronización Masiva --- */
.sync-container {
    display: grid;
    grid-template-columns: 40% 1fr;
    gap: 1.5rem;
}
.sync-form-container, .sync-log-container {
    padding: 0; /* El padding ya viene del widget */
}
.camera-checkbox-group {
    max-height: 150px;
    overflow-y: auto;
    border: 1px solid var(--border-color);
    padding: 1rem;
    border-radius: var(--border-radius);
    background-color: var(--input-background);
}
.select-all-label {
    font-weight: bold;
    display: block;
    margin-bottom: 0.5rem;
    padding-bottom: 0.5rem;
}
.action-buttons {
    display: flex;
    gap: 1rem;
}
.log-box {
    background-color: #1a1a1a;
    color: #f0f0f0;
    font-family: 'Roboto Mono', monospace;
    font-size: 0.85em;
    padding: 1rem;
    border-radius: var(--border-radius);
    height: 350px;
    overflow-y: auto;
    border: 1px solid var(--border-color);
    white-space: pre-wrap;
    word-wrap: break-word;
}
.log-box .log-initial {
    color: var(--secondary-text-color);
    font-style: italic;
}
.log-entry {
    margin-bottom: 0.5em;
    padding-bottom: 0.5em;
    border-bottom: 1px solid #333;
}
.log-entry.success { color: var(--decision-green); }
.log-entry.error { color: var(--decision-red); }
.log-entry.info { color: var(--primary-yellow); }
.log-entry i { margin-right: 0.5em; }
.widget-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}
@media (max-width: 900px) {
    .sync-container {
        grid-template-columns: 1fr;
    }
}

/* --- Estilos para la Columna de Estado de Sincronización --- */
.camera-status-cell { font-size: 0.9em; white-space: normal; }
.status-placeholder { color: var(--secondary-text-color); }
.sync-badge { display: inline-block; padding: 3px 8px; border-radius: 12px; font-weight: 500; margin: 2px; border: 1px solid; font-size: 0.8em; }
.sync-badge.synced { background-color: var(--decision-green-bg); color: var(--decision-green); border-color: var(--decision-green); }
.sync-badge.missing { background-color: var(--surface-color); color: var(--secondary-text-color); border-color: var(--border-color); }
.sync-badge.offline { background-color: #444; color: #999; border-color: #555; text-decoration: line-through; }
.sync-now-btn { margin-left: 8px; padding: 2px 8px !important; font-size: 0.8em !important; vertical-align: middle; }
#syncPlateLabel .plate-inner { font-size: 1.2em; }





/* --- Estilos para la página de Gestión de Lotes --- */
.container-fluid {
    max-width: 1600px;
    margin: 0 auto;
    padding: 1.5rem;
}
.two-column-layout {
    display: grid;
    grid-template-columns: 1fr 400px; /* Columna principal flexible, barra lateral fija */
    gap: 2rem;
}
.column-main { min-width: 0; }
.column-sidebar { min-width: 0; }

#lots-map {
    height: 600px;
    width: 100%;
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
}
.pan-to-map {
    text-decoration: underline;
    text-decoration-style: dotted;
    cursor: pointer;
}
.pan-to-map:hover {
    color: var(--primary-yellow);
}

/* Iconos personalizados para el mapa */
.map-icon {
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    color: white;
    box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    border: 2px solid white;
}
.map-icon.lot-icon { background-color: #3498db; } /* Azul para lotes */
.map-icon.camera-icon.entry { background-color: var(--decision-green); }
.map-icon.camera-icon.exit { background-color: var(--decision-red); }
.map-icon.camera-icon.undefined { background-color: #7f8c8d; } /* Gris */


/* --- Estilos para el Layout de Pantalla Dividida (manage_lots.php) --- */

/* Forzamos al contenedor principal de la página a no tener padding
   cuando estamos en la página de lotes. */
body[data-page-id="manage_lots"] main.container {
    padding: 0;
    max-width: 100%;
}

.split-screen-layout {
    display: flex;
    /* Altura: 100% de la ventana menos la altura del header (ajusta 70px si es diferente) */
    height: calc(100vh - 70px); 
}

.column-left {
    width: 50%;
    padding: 1.5rem;
    overflow-y: auto; /* Scroll si la tabla es muy larga */
    box-sizing: border-box;
}

.column-right {
    width: 50%;
    height: 100%; /* Ocupa toda la altura del padre */
}

/* Contenedor de la tabla para que el scroll funcione bien */
.column-left .table-container {
    height: 100%;
}

#lots-map {
    height: 100%; /* El mapa ocupa el 100% de la columna derecha */
    width: 100%;
    border-left: 1px solid var(--border-color);
}

/* Iconos personalizados para el mapa (se mantienen) */
.map-icon {
    display: flex; justify-content: center; align-items: center;
    border-radius: 50%; color: white;
    box-shadow: 0 2px 5px rgba(0,0,0,0.5); border: 2px solid white;
}
.map-icon.lot-icon { background-color: #3498db; }
.map-icon.camera-icon.entry { background-color: var(--decision-green); }
.map-icon.camera-icon.exit { background-color: var(--decision-red); }
.map-icon.camera-icon.undefined { background-color: #7f8c8d; }

.pan-to-map {
    text-decoration: underline;
    text-decoration-style: dotted;
    cursor: pointer;
}
.pan-to-map:hover {
    color: var(--primary-yellow);
}

/* Media query para pantallas pequeñas */
@media (max-width: 1024px) {
    .split-screen-layout {
        flex-direction: column;
        height: auto;
    }
    .column-left, .column-right {
        width: 100%;
    }
    .column-right {
        height: 50vh; /* Altura fija para el mapa en móvil */
    }
    #lots-map {
        border-left: none;
        border-top: 1px solid var(--border-color);
    }
}

/* --- Estilos para la Columna de Estado de Sincronización --- */
.camera-status-cell { font-size: 0.9em; white-space: normal; }
.status-container { color: var(--secondary-text-color); }
.sync-badge { display: inline-block; padding: 3px 8px; border-radius: 12px; font-weight: 500; margin: 2px; border: 1px solid; font-size: 0.8em; }
.sync-badge.synced { background-color: var(--decision-green-bg); color: var(--decision-green); border-color: var(--decision-green); }
.sync-badge.missing { background-color: var(--surface-color); color: var(--secondary-text-color); border-color: var(--border-color); }
.sync-badge.offline { background-color: #444; color: #999; border-color: #555; text-decoration: line-through; }
.sync-now-btn { margin-left: 8px; padding: 2px 8px !important; font-size: 0.8em !important; vertical-align: middle; }
#syncPlateLabel .plate-inner { font-size: 1.2em; }
.log-box { background-color: #1a1a1a; color: #f0f0f0; font-family: 'Roboto Mono', monospace; font-size: 0.85em; padding: 1rem; border-radius: var(--border-radius); border: 1px solid var(--border-color); }
.log-entry { margin-bottom: 0.5em; padding-bottom: 0.5em; border-bottom: 1px solid #333; }
.log-entry.success { color: var(--decision-green); }
.log-entry.error { color: var(--decision-red); }
.log-entry.info { color: var(--primary-yellow); }
.log-entry i { margin-right: 0.5em; }

/* --- Estilos para la Barra de Filtros --- */
.filter-bar {
    margin-bottom: 1.5rem;
    padding: 1rem;
}

.filter-form {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.filter-form .form-group {
    position: relative;
    margin-bottom: 0; /* Quitamos el margen por defecto */
    flex-grow: 1; /* Hacemos que los inputs ocupen el espacio disponible */
}

.filter-form .form-group i {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--secondary-text-color);
    pointer-events: none; /* Para que se pueda hacer clic en el input */
}

.filter-form .form-control {
    padding-left: 35px; /* Dejamos espacio para el icono */
    min-width: 200px; /* Ancho mínimo para cada filtro */
}

.filter-form .btn {
    flex-shrink: 0; /* Evitamos que los botones se encojan */
}

/* --- Estilos para Navegación de Pestañas tipo Píldora (Pill Nav) --- */
.pill-nav {
    display: flex;
    gap: 0.5rem; /* Espacio entre los botones */
    background-color: var(--surface-color); /* Fondo oscuro pero ligeramente diferente */
    border-radius: 50px; /* Bordes completamente redondeados */
    padding: 0.5rem;
    width: fit-content; /* Se ajusta al contenido */
    margin-bottom: 2rem;
    border: 1px solid var(--border-color);
}

.pill-nav a {
    text-decoration: none;
    padding: 0.6rem 1.25rem;
    border-radius: 50px;
    font-weight: 500;
    font-size: 0.9em;
    color: var(--secondary-text-color);
    background-color: transparent;
    border: none;
    transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.pill-nav a:hover {
    color: var(--primary-text-color);
    background-color: rgba(255, 255, 255, 0.05); /* Un brillo sutil al pasar el mouse */
}

.pill-nav a.active {
    background-color: var(--primary-yellow);
    color: #111; /* Texto oscuro para contrastar con el amarillo */
    font-weight: bold;
    box-shadow: 0 2px 8px rgba(251, 199, 69, 0.2); /* Sombra amarilla sutil */
}

/* Versión pequeña del estilo de matrícula para tablas */
.styled-plate-mercosur-small {
    display: inline-block;
    font-family: 'Roboto Mono', monospace;
    font-weight: 500;
    letter-spacing: 1px;
    background-color: #fff;
    color: #000;
    padding: 2px 8px;
    border: 1px solid #333;
    border-radius: 4px;
    font-size: 0.9em;
    text-transform: uppercase;
}